{"version":3,"file":"goTo.js","sourceRoot":"","sources":["../../../../src/components/Vuetify/util/goTo.js"],"names":[],"mappings":"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","sourcesContent":["import * as easingPatterns from '../../../util/easing-patterns'\n\nconst defaults = {\n  duration: 500,\n  offset: 0,\n  easing: 'easeInOutCubic'\n}\n\nfunction getDocumentHeight () {\n  return Math.max(\n    document.body.scrollHeight,\n    document.documentElement.scrollHeight,\n    document.body.offsetHeight,\n    document.documentElement.offsetHeight,\n    document.body.clientHeight,\n    document.documentElement.clientHeight\n  )\n}\n\nfunction getWindowHeight () {\n  return window.innerHeight ||\n    (document.documentElement || document.body).clientHeight\n}\n\nfunction isVueComponent (obj) {\n  return obj != null && obj._isVue\n}\n\nfunction getTargetLocation (target, settings) {\n  let location\n\n  if (isVueComponent(target)) {\n    target = target.$el\n  }\n\n  if (target instanceof Element) {\n    location = target.getBoundingClientRect().top + window.scrollY\n  } else if (typeof target === 'string') {\n    const targetEl = document.querySelector(target)\n    if (!targetEl) throw new TypeError(`Target element \"${target}\" not found.`)\n    location = targetEl.offsetTop\n  } else if (typeof target === 'number') {\n    location = target\n  } else {\n    const type = target == null ? target : target.constructor.name\n    throw new TypeError(`Target must be a Selector/Number/DOMElement/VueComponent, received ${type} instead.`)\n  }\n\n  return Math.round(\n    Math.min(\n      Math.max(location + settings.offset, 0),\n      getDocumentHeight() - getWindowHeight()\n    )\n  )\n}\n\nexport default function goTo (target, options) {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined') return reject('Window is undefined')\n\n    const settings = Object.assign({}, defaults, options)\n    const startTime = performance.now()\n    const startLocation = window.pageYOffset\n    const targetLocation = getTargetLocation(target, settings)\n    const distanceToScroll = targetLocation - startLocation\n    const easingFunction = typeof settings.easing === 'function' ? settings.easing : easingPatterns[settings.easing]\n\n    if (!easingFunction) throw new TypeError(`Easing function '${settings.easing}' not found.`)\n\n    function step (currentTime) {\n      let progressPercentage = Math.min(1, ((currentTime - startTime) / settings.duration))\n      let targetPosition = Math.floor(startLocation + distanceToScroll * easingFunction(progressPercentage))\n\n      window.scrollTo(0, targetPosition)\n\n      if (\n        Math.round(window.pageYOffset) === targetLocation ||\n        progressPercentage === 1\n      ) {\n        return resolve(target)\n      }\n\n      window.requestAnimationFrame(step)\n    }\n\n    window.requestAnimationFrame(step)\n  })\n}\n"]}