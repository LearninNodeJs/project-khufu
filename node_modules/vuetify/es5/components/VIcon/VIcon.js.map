{"version":3,"file":"VIcon.js","sourceRoot":"","sources":["../../../src/components/VIcon/VIcon.ts"],"names":[],"mappings":"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","sourcesContent":["import '../../stylus/components/_icons.styl'\n\nimport Themeable from '../../mixins/themeable'\nimport Colorable from '../../mixins/colorable'\nimport {\n  convertToUnit,\n  getObjectValueByPath\n} from '../../util/helpers'\n\nimport { VNode, VNodeChildren } from 'vue'\nimport mixins from '../../util/mixins'\n\nenum SIZE_MAP {\n  small = '16px',\n  default = '24px',\n  medium = '28px',\n  large = '36px',\n  xLarge = '40px'\n}\n\nfunction isFontAwesome5 (iconType: string): boolean {\n  return ['fas', 'far', 'fal', 'fab'].some(val => iconType.includes(val))\n}\n\nconst ICONS_PREFIX = '$vuetify.icons.'\n\n// This remaps internal names like '$vuetify.icons.cancel' to the current name\n// for that icon. Note the parent component is needed for $vuetify because\n// VIcon is a functional component. This function only looks at the\n// immediate parent, so it won't remap for a nested functional components.\nfunction remapInternalIcon (parent: object, iconName: string): string {\n  if (!iconName.startsWith(ICONS_PREFIX)) {\n    // return original icon name unchanged\n    return iconName\n  }\n\n  // Now look up icon indirection name, e.g. '$vuetify.icons.cancel':\n  return getObjectValueByPath(parent, iconName) || iconName\n}\n\nfunction keys<O> (o: O) {\n  return Object.keys(o) as (keyof O)[]\n}\n\nconst addTextColorClassChecks = Colorable.options.methods.addTextColorClassChecks\n\nexport default mixins(Colorable, Themeable).extend({\n  name: 'v-icon',\n\n  functional: true,\n\n  props: {\n    // TODO: inherit these\n    color: String,\n    dark: Boolean,\n    light: Boolean,\n\n    disabled: Boolean,\n    large: Boolean,\n    left: Boolean,\n    medium: Boolean,\n    right: Boolean,\n    size: {\n      type: [Number, String]\n    },\n    small: Boolean,\n    xLarge: Boolean\n  },\n\n  render (h, { props, data, parent, listeners = {}, children = [] }): VNode {\n    const { small, medium, large, xLarge } = props\n    const sizes = { small, medium, large, xLarge }\n    const explicitSize = keys(sizes).find(key => sizes[key] && !!key)\n    const fontSize = (explicitSize && SIZE_MAP[explicitSize]) || convertToUnit(props.size)\n\n    const newChildren: VNodeChildren = []\n\n    if (fontSize) data.style = { fontSize, ...data.style }\n\n    let iconName = ''\n    if (children.length) iconName = children[0].text!\n    // Support usage of v-text and v-html\n    else if (data.domProps) {\n      iconName = data.domProps.textContent ||\n        data.domProps.innerHTML ||\n        iconName\n\n      // Remove nodes so it doesn't\n      // overwrite our changes\n      delete data.domProps.textContent\n      delete data.domProps.innerHTML\n    }\n\n    // Remap internal names like '$vuetify.icons.cancel' to the current name for that icon\n    iconName = remapInternalIcon(parent, iconName)\n\n    let iconType = 'material-icons'\n    // Material Icon delimiter is _\n    // https://material.io/icons/\n    const delimiterIndex = iconName.indexOf('-')\n    const isCustomIcon = delimiterIndex > -1\n\n    if (isCustomIcon) {\n      iconType = iconName.slice(0, delimiterIndex)\n\n      if (isFontAwesome5(iconType)) iconType = ''\n      // Assume if not a custom icon\n      // is Material Icon font\n    } else newChildren.push(iconName)\n\n    data.attrs = data.attrs || {}\n    if (!('aria-hidden' in data.attrs)) {\n      data.attrs['aria-hidden'] = true\n    }\n\n    const classes = {\n      ...(props.color && addTextColorClassChecks.call(props, {}, props.color)),\n      'v-icon--disabled': props.disabled,\n      'v-icon--left': props.left,\n      'v-icon--link': listeners.click || listeners['!click'],\n      'v-icon--right': props.right,\n      'theme--dark': props.dark,\n      'theme--light': props.light\n    }\n\n    // Order classes\n    // * Component class\n    // * Vuetify classes\n    // * Icon Classes\n    data.staticClass = [\n      'v-icon',\n      data.staticClass,\n      Object.keys(classes).filter(k => classes[k]).join(' '),\n      iconType,\n      isCustomIcon ? iconName : null\n    ].filter(val => !!val).join(' ').trim()\n\n    return h('i', data, newChildren)\n  }\n})\n"]}