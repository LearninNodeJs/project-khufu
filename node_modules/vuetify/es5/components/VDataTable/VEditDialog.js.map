{"version":3,"file":"VEditDialog.js","sourceRoot":"","sources":["../../../src/components/VDataTable/VEditDialog.js"],"names":[],"mappings":"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","sourcesContent":["import '../../stylus/components/_small-dialog.styl'\n\n// Mixins\nimport Returnable from '../../mixins/returnable'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\nimport VBtn from '../VBtn'\nimport VMenu from '../VMenu'\n\nexport default {\n  name: 'v-edit-dialog',\n\n  mixins: [ Returnable ],\n\n  data () {\n    return {\n      isActive: false,\n      isSaving: false\n    }\n  },\n\n  props: {\n    cancelText: {\n      default: 'Cancel'\n    },\n    large: Boolean,\n    lazy: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save'\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition'\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      val && setTimeout(this.focus, 50) // Give DOM time to paint\n    }\n  },\n\n  methods: {\n    cancel () {\n      this.isActive = false\n    },\n    focus () {\n      const input = this.$refs.content.querySelector('input')\n      input && input.focus()\n    },\n    genButton (fn, text) {\n      return this.$createElement(VBtn, {\n        props: {\n          flat: true,\n          color: 'primary',\n          light: true\n        },\n        on: { click: fn }\n      }, text)\n    },\n    genActions () {\n      return this.$createElement('div', {\n        'class': 'v-small-dialog__actions'\n      }, [\n        this.genButton(this.cancel, this.cancelText),\n        this.genButton(() => this.save(this.returnValue), this.saveText)\n      ])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        on: {\n          keydown: e => {\n            const input = this.$refs.content.querySelector('input')\n            e.keyCode === keyCodes.esc && this.cancel()\n            e.keyCode === keyCodes.enter && input && this.save(input.value)\n          }\n        },\n        ref: 'content'\n      }, [this.$slots.input])\n    }\n  },\n\n  render (h) {\n    return h(VMenu, {\n      'class': 'v-small-dialog',\n      props: {\n        contentClass: 'v-small-dialog__content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        lazy: this.lazy\n      },\n      on: {\n        input: val => (this.isActive = val)\n      }\n    }, [\n      h('a', {\n        slot: 'activator'\n      }, this.$slots.default),\n      this.genContent(),\n      this.large ? this.genActions() : null\n    ])\n  }\n}\n"]}