{"version":3,"file":"VDataTable.js","sourceRoot":"","sources":["../../../src/components/VDataTable/VDataTable.js"],"names":[],"mappings":"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","sourcesContent":["import '../../stylus/components/_tables.styl'\nimport '../../stylus/components/_data-table.styl'\n\nimport DataIterable from '../../mixins/data-iterable'\n\nimport Head from './mixins/head'\nimport Body from './mixins/body'\nimport Foot from './mixins/foot'\nimport Progress from './mixins/progress'\n\nimport {\n  createSimpleFunctional,\n  getObjectValueByPath\n} from '../../util/helpers'\n\n// Importing does not work properly\nconst VTableOverflow = createSimpleFunctional('v-table__overflow')\n\nexport default {\n  name: 'v-data-table',\n\n  data () {\n    return {\n      actionsClasses: 'v-datatable__actions',\n      actionsRangeControlsClasses: 'v-datatable__actions__range-controls',\n      actionsSelectClasses: 'v-datatable__actions__select',\n      actionsPaginationClasses: 'v-datatable__actions__pagination'\n    }\n  },\n\n  mixins: [DataIterable, Head, Body, Foot, Progress],\n\n  props: {\n    headers: {\n      type: Array,\n      default: () => []\n    },\n    headersLength: {\n      type: Number\n    },\n    headerText: {\n      type: String,\n      default: 'text'\n    },\n    hideHeaders: Boolean,\n    rowsPerPageText: {\n      type: String,\n      default: 'Rows per page:'\n    },\n    customFilter: {\n      type: Function,\n      default: (items, search, filter, headers) => {\n        search = search.toString().toLowerCase()\n        if (search.trim() === '') return items\n\n        const props = headers.map(h => h.value)\n\n        return items.filter(item => props.some(prop => filter(getObjectValueByPath(item, prop), search)))\n      }\n    }\n  },\n\n  computed: {\n    classes () {\n      return {\n        'v-datatable v-table': true,\n        'v-datatable--select-all': this.selectAll !== false,\n        'theme--dark': this.dark,\n        'theme--light': this.light\n      }\n    },\n    filteredItems () {\n      return this.filteredItemsImpl(this.headers)\n    },\n    headerColumns () {\n      return this.headersLength || this.headers.length + (this.selectAll !== false)\n    }\n  },\n\n  methods: {\n    hasTag (elements, tag) {\n      return Array.isArray(elements) && elements.find(e => e.tag === tag)\n    },\n    genTR (children, data = {}) {\n      return this.$createElement('tr', data, children)\n    }\n  },\n\n  created () {\n    const firstSortable = this.headers.find(h => (\n      !('sortable' in h) || h.sortable)\n    )\n\n    this.defaultPagination.sortBy = !this.disableInitialSort && firstSortable\n      ? firstSortable.value\n      : null\n\n    this.initPagination()\n  },\n\n  render (h) {\n    const tableOverflow = h(VTableOverflow, {}, [\n      h('table', {\n        'class': this.classes\n      }, [\n        this.genTHead(),\n        this.genTBody(),\n        this.genTFoot()\n      ])\n    ])\n\n    return h('div', [\n      tableOverflow,\n      this.genActionsFooter()\n    ])\n  }\n}\n"]}