{"version":3,"file":"VOverflowBtn.js","sourceRoot":"","sources":["../../../src/components/VOverflowBtn/VOverflowBtn.js"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport '../../stylus/components/_overflow-buttons.styl'\n\n// Extensions\nimport VSelect from '../VSelect/VSelect'\nimport VAutocomplete from '../VAutocomplete'\nimport VTextField from '../VTextField/VTextField'\n\nimport VBtn from '../VBtn'\n\nimport { consoleWarn } from '../../util/console'\n\nexport default {\n  name: 'v-overflow-btn',\n\n  extends: VAutocomplete,\n\n  props: {\n    segmented: Boolean,\n    editable: Boolean,\n    transition: VSelect.props.transition\n  },\n\n  computed: {\n    classes () {\n      return Object.assign(VAutocomplete.computed.classes.call(this), {\n        'v-overflow-btn': true,\n        'v-overflow-btn--segmented': this.segmented,\n        'v-overflow-btn--editable': this.editable\n      })\n    },\n    isAnyValueAllowed () {\n      return this.editable ||\n        VAutocomplete.computed.isAnyValueAllowed.call(this)\n    },\n    isSingle () {\n      return true\n    }\n  },\n\n  methods: {\n    genSelections () {\n      return this.editable\n        ? VAutocomplete.methods.genSelections.call(this)\n        : VSelect.methods.genSelections.call(this) // Override v-autocomplete's override\n    },\n    genCommaSelection (item, index, last) {\n      return this.segmented\n        ? this.genSegmentedBtn(item)\n        : VSelect.methods.genCommaSelection.call(this, item, index, last)\n    },\n    genInput () {\n      const input = VTextField.methods.genInput.call(this)\n\n      input.data.domProps.value = this.editable ? this.internalSearch : ''\n      input.data.attrs.readonly = !this.isAnyValueAllowed\n\n      return input\n    },\n    genLabel () {\n      const label = VTextField.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      // Force 16px always\n      label.data.style.left = '16px'\n      delete label.data.style.position\n\n      return label\n    },\n    genSegmentedBtn (item) {\n      const itemValue = this.getValue(item)\n      const itemObj = this.computedItems.find(i => this.getValue(i) === itemValue) || item\n\n      if (!itemObj.text || !itemObj.callback) {\n        consoleWarn('When using \\'segmented\\' prop without a selection slot, items must contain both a text and callback property', this)\n        return null\n      }\n\n      return this.$createElement(VBtn, {\n        props: { flat: true },\n        on: {\n          click (e) {\n            e.stopPropagation()\n            itemObj.callback(e)\n          }\n        }\n      }, [itemObj.text])\n    },\n    setSelectedItems () {\n      if (this.internalValue == null) {\n        this.selectedItems = []\n      } else {\n        this.selectedItems = [this.internalValue]\n      }\n    },\n    updateSelf () {\n      if (this.editable) this.updateCombobox()\n      else VAutocomplete.methods.updateSelf.call(this)\n    }\n  }\n}\n"]}