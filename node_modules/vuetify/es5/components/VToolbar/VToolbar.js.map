{"version":3,"file":"VToolbar.js","sourceRoot":"","sources":["../../../src/components/VToolbar/VToolbar.js"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport '../../stylus/components/_toolbar.styl'\n\n// Mixins\nimport Applicationable from '../../mixins/applicationable'\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport SSRBootable from '../../mixins/ssr-bootable'\n\n// Directives\nimport Scroll from '../../directives/scroll'\n\nexport default {\n  name: 'v-toolbar',\n\n  mixins: [\n    Applicationable('top', [\n      'clippedLeft',\n      'clippedRight',\n      'computedHeight',\n      'invertedScroll',\n      'manualScroll'\n    ]),\n    Colorable,\n    SSRBootable,\n    Themeable\n  ],\n\n  directives: { Scroll },\n\n  data: () => ({\n    activeTimeout: null,\n    currentScroll: 0,\n    heights: {\n      mobileLandscape: 48,\n      mobile: 56,\n      desktop: 64,\n      dense: 48\n    },\n    isActive: true,\n    isExtended: false,\n    isScrollingUp: false,\n    previousScroll: null,\n    previousScrollDirection: null,\n    savedScroll: 0,\n    target: null\n  }),\n\n  props: {\n    card: Boolean,\n    clippedLeft: Boolean,\n    clippedRight: Boolean,\n    dense: Boolean,\n    extended: Boolean,\n    extensionHeight: {\n      type: [Number, String],\n      validator: v => !isNaN(parseInt(v))\n    },\n    flat: Boolean,\n    floating: Boolean,\n    height: {\n      type: [Number, String],\n      validator: v => !isNaN(parseInt(v))\n    },\n    invertedScroll: Boolean,\n    manualScroll: Boolean,\n    prominent: Boolean,\n    scrollOffScreen: Boolean,\n    scrollToolbarOffScreen: Boolean,\n    scrollTarget: String,\n    scrollThreshold: {\n      type: Number,\n      default: 300\n    },\n    tabs: Boolean\n  },\n\n  computed: {\n    computedContentHeight () {\n      if (this.height) return parseInt(this.height)\n      if (this.dense) return this.heights.dense\n\n      if (this.prominent ||\n        this.$vuetify.breakpoint.mdAndUp\n      ) return this.heights.desktop\n\n      if (this.$vuetify.breakpoint.width >\n        this.$vuetify.breakpoint.height\n      ) return this.heights.mobileLandscape\n\n      return this.heights.mobile\n    },\n    computedExtensionHeight () {\n      if (this.tabs) return 48\n      if (this.extensionHeight) return parseInt(this.extensionHeight)\n\n      return this.computedContentHeight\n    },\n    computedHeight () {\n      if (!this.isExtended) return this.computedContentHeight\n\n      return this.computedContentHeight + this.computedExtensionHeight\n    },\n    computedMarginTop () {\n      if (!this.app) return 0\n\n      return this.$vuetify.application.bar\n    },\n    classes () {\n      return this.addBackgroundColorClassChecks({\n        'v-toolbar': true,\n        'elevation-0': this.flat || (!this.isActive &&\n          !this.tabs &&\n          !this.scrollToolbarOffScreen\n        ),\n        'v-toolbar--absolute': this.absolute,\n        'v-toolbar--card': this.card,\n        'v-toolbar--clipped': this.clippedLeft || this.clippedRight,\n        'v-toolbar--dense': this.dense,\n        'v-toolbar--extended': this.isExtended,\n        'v-toolbar--fixed': !this.absolute && (this.app || this.fixed),\n        'v-toolbar--floating': this.floating,\n        'v-toolbar--prominent': this.prominent,\n        'theme--dark': this.dark,\n        'theme--light': this.light\n      })\n    },\n    computedPaddingLeft () {\n      if (!this.app || this.clippedLeft) return 0\n\n      return this.$vuetify.application.left\n    },\n    computedPaddingRight () {\n      if (!this.app || this.clippedRight) return 0\n\n      return this.$vuetify.application.right\n    },\n    computedTransform () {\n      return !this.isActive\n        ? this.scrollToolbarOffScreen\n          ? -this.computedContentHeight\n          : -this.computedHeight\n        : 0\n    },\n    currentThreshold () {\n      return Math.abs(this.currentScroll - this.savedScroll)\n    },\n    styles () {\n      return {\n        marginTop: `${this.computedMarginTop}px`,\n        paddingRight: `${this.computedPaddingRight}px`,\n        paddingLeft: `${this.computedPaddingLeft}px`,\n        transform: `translateY(${this.computedTransform}px)`\n      }\n    }\n  },\n\n  watch: {\n    currentThreshold (val) {\n      if (this.invertedScroll) {\n        return this.isActive = this.currentScroll > this.scrollThreshold\n      }\n\n      if (val < this.scrollThreshold ||\n        !this.isBooted\n      ) return\n\n      this.isActive = this.isScrollingUp\n      this.savedScroll = this.currentScroll\n    },\n    isActive () {\n      this.savedScroll = 0\n    },\n    invertedScroll (val) {\n      this.isActive = !val\n    },\n    manualScroll (val) {\n      this.isActive = !val\n    },\n    isScrollingUp () {\n      this.savedScroll = this.savedScroll || this.currentScroll\n    }\n  },\n\n  created () {\n    if (this.invertedScroll ||\n      this.manualScroll\n    ) this.isActive = false\n  },\n\n  mounted () {\n    if (this.scrollTarget) {\n      this.target = document.querySelector(this.scrollTarget)\n    }\n  },\n\n  methods: {\n    onScroll () {\n      if ((!this.scrollOffScreen &&\n        !this.scrollToolbarOffScreen) ||\n        this.manualScroll ||\n        typeof window === 'undefined'\n      ) return\n\n      const target = this.target || window\n\n      this.currentScroll = this.scrollTarget\n        ? target.scrollTop\n        : target.pageYOffset || document.documentElement.scrollTop\n\n      this.isScrollingUp = this.currentScroll < this.previousScroll\n\n      this.previousScroll = this.currentScroll\n    },\n    /**\n     * Update the application layout\n     *\n     * @return {number}\n     */\n    updateApplication () {\n      return this.invertedScroll || this.manualScroll\n        ? 0\n        : this.computedHeight\n    }\n  },\n\n  render (h) {\n    this.isExtended = this.extended || !!this.$slots.extension\n\n    const children = []\n    const data = {\n      'class': this.classes,\n      style: this.styles,\n      on: this.$listeners\n    }\n\n    data.directives = [{\n      arg: this.scrollTarget,\n      name: 'scroll',\n      value: this.onScroll\n    }]\n\n    children.push(h('div', {\n      staticClass: 'v-toolbar__content',\n      style: { height: `${this.computedContentHeight}px` },\n      ref: 'content'\n    }, this.$slots.default))\n\n    if (this.isExtended) {\n      children.push(h('div', {\n        staticClass: 'v-toolbar__extension',\n        style: { height: `${this.computedExtensionHeight}px` }\n      }, this.$slots.extension))\n    }\n\n    return h('nav', data, children)\n  }\n}\n"]}