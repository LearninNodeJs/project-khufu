{"version":3,"file":"VStepperContent.js","sourceRoot":"","sources":["../../../src/components/VStepper/VStepperContent.js"],"names":[],"mappings":"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","sourcesContent":["import {\n  VTabTransition,\n  VTabReverseTransition\n} from '../transitions'\n\nexport default {\n  name: 'v-stepper-content',\n\n  data () {\n    return {\n      height: 0,\n      // Must be null to allow\n      // previous comparison\n      isActive: null,\n      isReverse: false,\n      isVertical: false\n    }\n  },\n\n  props: {\n    step: {\n      type: [Number, String],\n      required: true\n    }\n  },\n\n  computed: {\n    classes () {\n      return {\n        'v-stepper__content': true\n      }\n    },\n    computedTransition () {\n      return this.isReverse\n        ? VTabReverseTransition\n        : VTabTransition\n    },\n    styles () {\n      if (!this.isVertical) return {}\n\n      return {\n        height: !isNaN(this.height) ? `${this.height}px` : this.height\n      }\n    },\n    wrapperClasses () {\n      return {\n        'v-stepper__wrapper': true\n      }\n    }\n  },\n\n  watch: {\n    isActive (current, previous) {\n      // If active and the previous state\n      // was null, is just booting up\n      if (current && previous == null) {\n        return (this.height = 'auto')\n      }\n\n      if (!this.isVertical) return\n\n      if (this.isActive) this.enter()\n      else this.leave()\n    }\n  },\n\n  mounted () {\n    this.$refs.wrapper.addEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n  },\n\n  beforeDestroy () {\n    this.$refs.wrapper.removeEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n  },\n\n  methods: {\n    onTransition (e) {\n      if (!this.isActive ||\n        e.propertyName !== 'height'\n      ) return\n\n      this.height = 'auto'\n    },\n    enter () {\n      let scrollHeight = 0\n\n      // Render bug with height\n      requestAnimationFrame(() => {\n        scrollHeight = this.$refs.wrapper.scrollHeight\n      })\n\n      this.height = 0\n\n      // Give the collapsing element time to collapse\n      setTimeout(() => (this.height = (scrollHeight || 'auto')), 450)\n    },\n    leave () {\n      this.height = this.$refs.wrapper.clientHeight\n      setTimeout(() => (this.height = 0), 10)\n    },\n    toggle (step, reverse) {\n      this.isActive = step.toString() === this.step.toString()\n      this.isReverse = reverse\n    }\n  },\n\n  render (h) {\n    const contentData = {\n      'class': this.classes\n    }\n    const wrapperData = {\n      'class': this.wrapperClasses,\n      style: this.styles,\n      ref: 'wrapper'\n    }\n\n    if (!this.isVertical) {\n      contentData.directives = [{\n        name: 'show',\n        value: this.isActive\n      }]\n    }\n\n    const wrapper = h('div', wrapperData, [this.$slots.default])\n    const content = h('div', contentData, [wrapper])\n\n    return h(this.computedTransition, {\n      on: this.$listeners\n    }, [content])\n  }\n}\n"]}