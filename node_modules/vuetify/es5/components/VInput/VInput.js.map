{"version":3,"file":"VInput.js","sourceRoot":"","sources":["../../../src/components/VInput/VInput.js"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport '../../stylus/components/_inputs.styl'\n\n// Components\nimport VIcon from '../VIcon'\nimport VMessages from '../VMessages'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Themeable from '../../mixins/themeable'\nimport Validatable from '../../mixins/validatable'\n\n// Utilities\nimport {\n  convertToUnit,\n  kebabCase\n} from '../../util/helpers'\n\nexport default {\n  name: 'v-input',\n\n  mixins: [\n    Loadable,\n    Themeable,\n    Validatable\n  ],\n\n  data: vm => ({\n    lazyValue: vm.value,\n    isFocused: false\n  }),\n\n  props: {\n    appendIcon: String,\n    appendIconCb: Function,\n    disabled: Boolean,\n    height: [Number, String],\n    hideDetails: Boolean,\n    hint: String,\n    persistentHint: Boolean,\n    prependIcon: String,\n    prependIconCb: Function,\n    readonly: Boolean,\n    tabindex: { default: 0 },\n    value: { required: false }\n  },\n\n  computed: {\n    classesInput () {\n      return {\n        ...this.classes,\n        'v-input--has-state': this.hasState,\n        'v-input--hide-details': this.hideDetails,\n        'v-input--is-label-active': this.isLabelActive,\n        'v-input--is-dirty': this.isDirty,\n        'v-input--is-disabled': this.isDisabled,\n        'v-input--is-focused': this.isFocused,\n        'v-input--is-loading': this.loading !== false,\n        'v-input--is-readonly': this.readonly,\n        ...this.addTextColorClassChecks({}, this.validationState),\n        ...this.themeClasses\n      }\n    },\n    directivesInput () {\n      return []\n    },\n    hasHint () {\n      return !this.hasMessages &&\n        this.hint &&\n        (this.persistentHint || this.isFocused)\n    },\n    // Proxy for `lazyValue`\n    // This allows an input\n    // to function without\n    // a provided model\n    internalValue: {\n      get () {\n        return this.lazyValue\n      },\n      set (val) {\n        this.lazyValue = val\n        this.$emit('input', val)\n      }\n    },\n    isDirty () {\n      return !!this.lazyValue\n    },\n    isDisabled () {\n      return this.disabled || this.readonly\n    },\n    isLabelActive () {\n      return this.isDirty\n    }\n  },\n\n  watch: {\n    value (val) {\n      this.lazyValue = val\n    }\n  },\n\n  methods: {\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-input__control'\n      }, [\n        this.genInputSlot(),\n        this.genMessages()\n      ])\n    },\n    genDefaultSlot () {\n      return this.$slots.default\n    },\n    genIcon (type, cb) {\n      const icon = this[`${type}Icon`]\n      cb = cb || this[`${type}IconCb`]\n\n      const data = {\n        props: {\n          color: this.validationState,\n          disabled: this.disabled\n        },\n        on: !cb\n          ? null\n          : {\n            click: e => {\n              e.preventDefault()\n              e.stopPropagation()\n\n              cb(e)\n            }\n          }\n      }\n\n      return this.$createElement('div', {\n        staticClass: `v-input__icon v-input__icon--${kebabCase(type)}`,\n        key: `${type}${icon}`\n      }, [\n        this.$createElement(\n          VIcon,\n          data,\n          icon\n        )\n      ])\n    },\n    genInputSlot () {\n      return this.$createElement('div', {\n        staticClass: 'v-input__slot',\n        style: { height: convertToUnit(this.height) },\n        directives: this.directivesInput,\n        on: { click: this.onClick },\n        ref: 'input-slot'\n      }, [\n        this.genDefaultSlot(),\n        this.genProgress()\n      ])\n    },\n    genMessages () {\n      if (this.hideDetails) return null\n\n      const messages = this.hasHint\n        ? [this.hint]\n        : this.validations\n\n      return this.$createElement(VMessages, {\n        props: {\n          color: this.hasHint ? '' : this.validationState,\n          value: (this.hasMessages || this.hasHint) ? messages : []\n        }\n      })\n    },\n    genSlot (type, location, slot) {\n      if (!slot.length) return null\n\n      const ref = `${type}-${location}`\n\n      return this.$createElement('div', {\n        staticClass: `v-input__${ref}`,\n        ref\n      }, slot)\n    },\n    genPrependSlot () {\n      const slot = []\n\n      // Backwards compat\n      // TODO: Deprecate prepend-icon slot 2.0\n      if (this.$slots['prepend-icon']) {\n        slot.push(this.$slots['prepend-icon'])\n      } else if (this.$slots['prepend']) {\n        slot.push(this.$slots['prepend'])\n      } else if (this.prependIcon) {\n        slot.push(this.genIcon('prepend'))\n      }\n\n      return this.genSlot('prepend', 'outer', slot)\n    },\n    genAppendSlot () {\n      const slot = []\n\n      // Append icon for text field was really\n      // an appended inner icon, v-text-field\n      // will overwrite this method in order to obtain\n      // backwards compat\n      if (this.$slots['append']) {\n        slot.push(this.$slots['append'])\n      } else if (this.$slots['append-icon']) {\n        slot.push(this.$slots['append-icon'])\n      } else if (this.appendIcon) {\n        slot.push(this.genIcon('append'))\n      }\n\n      return this.genSlot('append', 'outer', slot)\n    },\n    onClick (e) {\n      this.$emit('click', e)\n    },\n    onMouseDown (e) {\n      this.$emit('mousedown', e)\n    },\n    onMouseUp (e) {\n      this.$emit('mouseup', e)\n    }\n  },\n\n  render (h) {\n    return h('div', {\n      staticClass: 'v-input',\n      attrs: this.attrsInput,\n      'class': this.classesInput,\n      on: {\n        mousedown: this.onMouseDown,\n        mouseup: this.onMouseUp\n      }\n    }, [\n      this.genPrependSlot(),\n      this.genContent(),\n      this.genAppendSlot()\n    ])\n  }\n}\n"]}