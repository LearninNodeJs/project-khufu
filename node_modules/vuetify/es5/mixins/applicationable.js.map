{"version":3,"file":"applicationable.js","sourceRoot":"","sources":["../../src/mixins/applicationable.js"],"names":[],"mappings":";;;;;;;AAAA,AAAO,AAAE,AAAO,AAAI,AAAmB,AAAE,AAAM,AAAgB,AAE/D,AAAM,AAAC,AAAO;;yBAA2B,AAAK;QAAE,AAAM,6EAAG,AAAE;;AACzD;AACE,AAAI,cAAE,AAAiB;AAEvB,AAAM,gBAAE,CAAC,AAAmB,2BAAC,CAAC,AAAU,YAAE,AAAO,AAAC,AAAC,AAAC;AAEpD,AAAK;AACH,AAAG,iBAAE,AAAO,AACb;AAFM;AAIP,AAAQ;AACN,AAAmB;AACjB,uBAAO,AAAK,AACd;AAAC,AACF;AAJS;AAMV,AAAK;AACH,AAA4B;AAC5B,AAA0B;AAC1B,AAAG,8BAAE,AAAC,GAAE,AAAI;AACV,AAAI,AACF,AAAC,uBAAC,AAAI,KAAC,AAAiB,kBAAC,AAAI,AAAC,AAC9B,AAAC,QAAC,AAAI,KAAC,AAAU,AAAE,AACvB;AAAC,AACF;AARM;AAUP,AAAS;AACP,AAAI,iBAAC,AAAU,AAAE,AACnB;AAAC;AAED,AAAO;AACL,iBAAK,IAAI,AAAC,IAAG,AAAC,GAAE,AAAM,SAAG,AAAM,OAAC,AAAM,QAAE,AAAC,IAAG,AAAM,QAAE,AAAC,AAAE,KAAE;AACvD,AAAI,qBAAC,AAAM,OAAC,AAAM,OAAC,AAAC,AAAC,IAAE,AAAI,KAAC,AAAU,AAAC;AACxC;AACD,AAAI,iBAAC,AAAU,AAAE,AACnB;AAAC;AAED,AAAO;AACL,AAAI,iBAAC,AAAU,AAAE,AACnB;AAAC;AAED,AAAW;AACT,AAAI,iBAAC,AAAiB,AAAE,AAC1B;AAAC;AAED,AAAS;AACP,AAAI,iBAAC,AAAiB,AAAE,AAC1B;AAAC;;AAED,AAAO;AACL,AAAU;AACR,oBAAI,CAAC,AAAI,KAAC,AAAG,KAAE,AAAM;AAErB,AAAI,qBAAC,AAAQ,SAAC,AAAW,YAAC,AAAI,KAC5B,AAAI,KAAC,AAAI,MACT,AAAI,KAAC,AAAmB,qBACxB,AAAI,KAAC,AAAiB,AAAE,AACzB,AACH;AAAC;AACD,AAAiB,0DAAE,AAAK;AACtB,oBAAI,CAAC,AAAK,SAAI,CAAC,AAAI,KAAC,AAAG,KAAE,AAAM;AAE/B,AAAI,qBAAC,AAAQ,SAAC,AAAW,YAAC,AAAM,OAC9B,AAAI,KAAC,AAAI,MACT,AAAI,KAAC,AAAmB,AACzB,AACH;AAAC;;AACD,AAAiB,+BAAE,AAAG,AAAE,6BAAE,CAAC,AAC5B,AACF,AACH;AArBa;AAhDJ;AAqER","sourcesContent":["import { factory as PositionableFactory } from './positionable'\n\nexport default function applicationable (value, events = []) {\n  return {\n    name: 'applicationable',\n\n    mixins: [PositionableFactory(['absolute', 'fixed'])],\n\n    props: {\n      app: Boolean\n    },\n\n    computed: {\n      applicationProperty () {\n        return value\n      }\n    },\n\n    watch: {\n      // If previous value was app\n      // reset the provided prop\n      app (x, prev) {\n        prev\n          ? this.removeApplication(true)\n          : this.callUpdate()\n      }\n    },\n\n    activated () {\n      this.callUpdate()\n    },\n\n    created () {\n      for (let i = 0, length = events.length; i < length; i++) {\n        this.$watch(events[i], this.callUpdate)\n      }\n      this.callUpdate()\n    },\n\n    mounted () {\n      this.callUpdate()\n    },\n\n    deactivated () {\n      this.removeApplication()\n    },\n\n    destroyed () {\n      this.removeApplication()\n    },\n\n    methods: {\n      callUpdate () {\n        if (!this.app) return\n\n        this.$vuetify.application.bind(\n          this._uid,\n          this.applicationProperty,\n          this.updateApplication()\n        )\n      },\n      removeApplication (force) {\n        if (!force && !this.app) return\n\n        this.$vuetify.application.unbind(\n          this._uid,\n          this.applicationProperty\n        )\n      },\n      updateApplication: () => {}\n    }\n  }\n}\n"]}